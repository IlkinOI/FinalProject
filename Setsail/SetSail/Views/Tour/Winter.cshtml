@model SetSail.ViewModels.VmWinter
@{
    ViewBag.Title = "Winter";
}

<section id="introWinter">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="introCarousel">
                    <div class="owl-carousel owl-theme">
                        <div class="item">
                            <div class="sliderWrapper">
                                <div class="imageWrapper">
                                    <img class="img1" src="~/Uploads/@Model.WinterPage.IntroImage1" alt="img1">
                                </div>
                                <div class="textWrapper">
                                    <div class="upperTitle">
                                        <h3 class="satisfy">
                                            @Model.WinterPage.TopTitle1
                                        </h3>
                                    </div>
                                    <div class="title">
                                        <h1 class="bigTitle">
                                            @Model.WinterPage.Title1
                                        </h1>
                                    </div>
                                    <div class="text">
                                        <h5 class="textContent">
                                            @Model.WinterPage.introText1
                                        </h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="sliderWrapper">
                                <div class="imageWrapper">
                                    <img class="img2" src="~/Uploads/@Model.WinterPage.IntroImage2" alt="img1">
                                </div>
                                <div class="textWrapper">
                                    <div class="upperTitle">
                                        <h3 class="satisfy">
                                            @Model.WinterPage.TopTitle2
                                        </h3>
                                    </div>
                                    <div class="title">
                                        <h1 class="bigTitle">
                                            @Model.WinterPage.Title2
                                        </h1>
                                    </div>
                                    <div class="text">
                                        <h5 class="textContent">
                                            @Model.WinterPage.introText2
                                        </h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="WinterItemsCarousel">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="winterCarousel">
                    <div class="owl-carousel owl-theme">
                        
                        @foreach (var dc in Model.DesToCats)
                        {
                            foreach (var tour in Model.Tours.Where(t => t.TourCity.DestinationId == dc.DestinationId))
                            {
                                <div class="item">
                                    <div class="img">
                                        <a href="@Url.Action("TourDetailIndex","Tour",new { id=tour.Id})"><img src="~/Uploads/@tour.FrontImage" alt=""></a>
                                    </div>
                                    <div class="reviews">
                                        <div class="span">
                                            <span><i class="far fa-comment"></i></span>
                                            <span>@(tour.TourReviews!=null?tour.TourReviews.Count.ToString():"0")</span>
                                        </div>
                                        <div class="span">
                                            <span><i class="fas fa-user"></i></span>
                                            <span>@tour.TourDates.FirstOrDefault(d => d.TourId == tour.Id).TicketsNum B/L</span>
                                        </div>
                                        <div class="span">
                                            <span><i class="fas fa-map-marker-alt"></i></span>
                                            <a href="@Url.Action("DestinationDetails","Tour", new {id=tour.TourCity.DestinationId })"><span>@tour.TourCity.Destination.Name</span></a>
                                        </div>
                                    </div>
                                    <div class="info">
                                        <a href="@Url.Action("TourDetailIndex","Tour",new { id=tour.Id})"> <span>@tour.TourCity.Name</span> </a>
                                        <p>
                                            @(tour.About.Length>50?tour.About.Substring(0,50)+"...":tour.About)
                                        </p>
                                        <div class="details">
                                            <span class="price">$@tour.Price.ToString("0")</span>
                                            <span class="star"><i class="fas fa-star-half-alt"></i></span>
                                            <span class="rating">5.0</span>
                                            <span class="expression">Good</span>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="videoWinter">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="slogan">
                    <div class="textWrapper">
                        <div class="upperTitle">
                            <h3>
                                Try Now
                            </h3>
                        </div>
                        <div class="title">
                            <h1>
                                Winter Sports
                            </h1>
                        </div>
                    </div>
                </div>
                <div class="video">
                    <div class="picture">
                        <img src="~/Uploads/@Model.WinterPage.VideoImage" alt="">
                        <div class="icon"><i class="fas fa-play-circle"></i></div>
                    </div>
                </div>
                <div class="text">
                    <p>
                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget
                        dolor. Aenean massa. Cum sociis Theme natoque penatibus et magnis dis sit amet,
                        consectetuer adipiscing elit Etiam rhoncus. Maecenas tempus, tellus eget condimentum
                        rhoncus, sem quam semper libero, sit ame
                    </p>
                </div>
                <div class="button">
                    <a href="@Url.Action("Search","Tour")">VIEW MORE</a>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="parallaxReviewsWinter" style="background-image: url(/Uploads/@Model.WinterPage.ParallaxImage1);">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="slogan">
                    <div class="textWrapper">
                        <div class="upperTitle">
                            <h3>
                                Read The Top
                            </h3>
                        </div>
                        <div class="title">
                            <h1>
                                Travel Reviews
                            </h1>
                        </div>
                        <div class="text">
                            <h5>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                                eiusmod
                                tempor incididunt ut labore et dolore magna aliqua.
                            </h5>
                        </div>
                    </div>
                </div>
                <div class="reviewsCarousel">
                    <div class="owl-carousel owl-theme">
                        @foreach (var item in Model.TourReviews)
                        {
                            <div class="item">
                                <div class="img">
                                    <img src="~/Uploads/@item.User.Photo" alt="">
                                </div>
                                <div class="info">
                                    <h4 class="tour">
                                        <a href="@Url.Action("TourDetailIndex","Tour", new {id=item.TourId })">@item.Tour.Name</a>
                                    </h4>
                                    @{
                                        decimal total = (decimal)((item.Rating + item.Comfort + item.Food + item.Hospitality + item.Hygiene + item.Reception) / 6.0);
                                        for (int s = 0; s < 5; s++)
                                        {
                                            if (Convert.ToInt32(total) <= s)
                                            {
                                                <span><i class="far fa-star"></i></span>
                                            }
                                            else
                                            {
                                                <span><i class="fas fa-star"></i></span>

                                            }
                                        }
                                    }
                                    <div class="text">
                                        <p>
                                            @(item.Message.Length>20? item.Message.Substring(0,20)+"...":item.Message)
                                        </p>
                                    </div>
                                    <h6 class="fullname">
                                        @item.User.Fullname
                                    </h6>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="ourTeamWinter">
    <div class="container-fluid">
        <div class="row">
            @foreach (var man in Model.Teams.Where(t => t.Position.Name == "Winter Quide"))
            {
                <div class="col-lg-3 col-md-6 col-sm-12">
                    <div class="team">
                        <div class="img">
                            <img src="~/Uploads/@man.Photo" alt="">
                        </div>
                        <div class="info disappear">
                            <h6>@man.Fullname</h6>
                            <p class="p">@(man.About.Length>50?man.About.Substring(0,50)+"...":man.About)</p>
                            <div class="socials">
                                @foreach (var social in man.TeamSocials)
                                {
                                    <a href="@social.Link"><span><i class="fab fa-@social.Icon" aria-hidden="true"></i></span></a>
                                }

                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<section id="DestinationsWinter">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="slogan">
                    <div class="textWrapper">
                        <div class="upperTitle">
                            <h3>
                                Choose Your
                            </h3>
                        </div>
                        <div class="title">
                            <h1>
                                Winter Countries
                            </h1>
                        </div>
                        <div class="text">
                            <h5>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                                eiusmod
                                tempor incididunt ut labore et dolore magna aliqua.
                            </h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="wrap">
                @foreach (var cat in Model.DesToCats)
                {
                    foreach (var des in Model.Destinations.Where(d => d.Id == cat.DestinationId))
                    {
                        <div class="col-lg-4">
                            <div class="destination">
                                <div class="img">
                                    <a href="@Url.Action("DestinationDetails","Tour", new {id=des.Id })"><img src="~/Uploads/@des.Pic6" alt=""></a>
                                </div>
                                <div class="name">
                                    <a href="@Url.Action("DestinationDetails","Tour", new {id=des.Id })">
                                        <h5>@des.Name</h5>
                                    </a>
                                </div>
                            </div>
                        </div>
                    }

                }
            </div>
        </div>
    </div>
</section>

<section id="popupWinter">
    <div class="videoWrapper">
        <div class="popupVideo">
            <iframe width="560" height="315" src="@Model.WinterPage.Video" frameborder="0"
                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>
        </div>
        <div class="icon">
            <i class="fas fa-times"></i>
        </div>
    </div>
</section>
